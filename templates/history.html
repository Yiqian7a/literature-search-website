<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>文献搜索：历史记录</title>
    <style>
        .main-container {
                flex-direction: column;
            }

    </style>
</head>
<body>
<header>
    <script src="/static/common_header.js"></script>
</header>

<main class="main-container">
    <div class="title-column">
        <div><h2>历史记录:</h2></div>
        <div>（历史记录仅保存20条）</div>
    </div>
    <div id="history-container">

    </div>
</main>

<script>
    var historyData = {{ historyData.json | safe }};
    console.log(historyData);
    console.log(historyData[0]);

    // 获取新闻容器和翻页容器
    const historyContainer = document.getElementById("history-container");


    // 清空新闻容器中的内容
    historyContainer.innerHTML = "";

    // 遍历新闻数据，显示当前页的新闻
    for (let i = startIndex; i < endIndex && i < historyData.length; i++) {
        const historyItem = historyData[i];
        const historyElement = document.createElement("div");
        historyElement.addEventListener("click", function (event) {
            // 判断点击的元素是否为新闻标题或内容
            if (event.target.classList.contains("history-link")) {
                window.location.href = "/detailed_information?doc_id=" + historyItem[0];
            }
        });
        historyElement.classList.add("history-item");
        historyElement.innerHTML = `
            <h2 class="history-link">${historyItem[2]}</a></h2>
            <p class="history-link">浏览日期： ${historyItem[1]}</a></p>
        `;
        historyContainer.appendChild(historyElement);
    }
</script>

<footer>
    &copy; 糖式组. All rights reserved. &nbsp;&nbsp;&nbsp;
    <a href="https://gitee.com/Yiqian7a/literature-search-website">前往Gitee仓库</a>
</footer>

</body>
</html>